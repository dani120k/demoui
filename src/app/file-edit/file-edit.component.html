<div class="mail-config-edit">
    <div class="header">
        <h2 mat-dialog-title class="dialog-title">
            <span class="title" *ngIf="!mailConfig.id">
                Добавить файл
            </span>

            <button mat-button color="primary" class="close-button" mat-dialog-close [mat-dialog-close]="false">
                <span class="mat-button-wrapper">
                    <mat-icon role="img" class="mat-icon close-icon" aria-hidden="true">
                        close
                    </mat-icon>
                </span>
            </button>
        </h2>
    </div>

    <div class="content">
        <form #articleForm="ngForm">
            <div class="row expansionpanel">
                <div class="cell">
                    <mat-form-field appearance="fill">
                        <mat-label>Наименование файла</mat-label>
                        <input matInput type="text" [(ngModel)]='mailConfig.filename' name="mailConfigId"
                            #title="ngModel" readonly>
                    </mat-form-field>
                </div>
            </div>

            <div class="row fieldclass expansionpanel">
                <input type="file" #fileInput id="fileUpload" name="fileUpload" multiple="false"
                    style="display:none" />
    
                <div class="cell">
                    <h2 mat-dialog-title>Файл</h2>
                    <button mat-icon-button (click)="addFileClicked()">
                        <mat-icon class="edit-icon">add</mat-icon>
                    </button>
                    <button mat-icon-button (click)="downloadFile()">
                        <mat-icon class="add-icon">save_alt</mat-icon>
                    </button>
                    <button mat-icon-button (click)="deleteFile()">
                        <mat-icon class="delete-icon">delete</mat-icon>
                    </button>
                </div>
            </div>     
        </form>
    </div>


    <div class="actions">
        <button mat-button color="primary" class="close-button" mat-dialog-close [mat-dialog-close]="false">
            <span class="mat-button-wrapper">
                <mat-icon role="img" class="mat-icon " aria-hidden="true">
                    close
                </mat-icon> Отмена
            </span>
        </button>
        <button mat-button mat-dialog-close [mat-dialog-close]="[mailConfig, file]" color="accent" class="save-button"
            [disabled]="articleForm.invalid">
            <span class="mat-button-wrapper">
                <mat-icon role="img" class="mat-icon" aria-hidden="true">
                    save
                </mat-icon> Сохранить
            </span>
        </button>
    </div>
</div>